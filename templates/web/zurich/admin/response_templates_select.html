[% template_name="templates_for_${for}" %]

[% response_templates = problem.body(c).response_templates %]
<p>
<span class="mock-label" for="[% template_name %]">[% loc('Templates:') %]</span>
<select id="[% template_name %]">
    <option value="">Choose a template</option>
[% FOR t IN response_templates %]
    <option value="[% t.id %]"> [% t.title | html %] </option>
[% END %]
</select>
</p>
<script>
    $(function () {
        var response_template_texts = {
            [% FOR t IN response_templates %]
                [% t.id %]: '[% t.text | escape_js %]' [% loop.last ? '' : ',' %]
            [% END %]
        };
        $('#[% template_name %]').change(function () {
            var val = $(this).val();
            var text = response_template_texts[val];
            $('#[% for %]').val( text );
        });
    });
</script>
